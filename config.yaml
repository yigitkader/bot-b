# Trading Bot Configuration - Clean Architecture
# Event-driven modules with WebSocket-first approach

# ============================================================================
# Symbol Configuration
# ============================================================================
symbols: []            # Manual symbols; empty = auto discovery enabled
auto_discover_quote: true
quote_asset: "USDC"
allow_usdt_quote: true  # Include USDT alongside USDC for more liquidity
mode: "futures"       # "spot" | "futures"

# ============================================================================
# Order Size Limits
# ============================================================================
max_usd_per_order: 100.0  # Maximum margin per trade (USD)
min_usd_per_order: 10.0   # Minimum margin per trade (USD)
min_quote_balance_usd: 1.0  # Minimum quote asset balance threshold (USD)

# ============================================================================
# Trading Parameters
# ============================================================================
leverage: 20  # Leverage for futures (20x-50x supported with isolated margin)

# Price/quantity precision (for quantization)
# Can be auto-fetched from exchangeInfo, but kept here for determinism
price_tick: 0.001
qty_step: 0.001

# ============================================================================
# Take Profit / Stop Loss (for FOLLOW_ORDERS module)
# ============================================================================
take_profit_pct: 5.0   # Take profit percentage (default: 5%)
stop_loss_pct: 2.0      # Stop loss percentage (default: 2%)

# ============================================================================
# Trend Analysis (for TRENDING module)
# ============================================================================
trending:
  min_spread_bps: 5.0   # Minimum spread to generate signal (bps)
  max_spread_bps: 200.0 # Maximum spread to generate signal (bps)

# ============================================================================
# Binance API Configuration
# ============================================================================
binance:
  futures_base: "https://fapi.binance.com"
  api_key: ""
  secret_key: ""
  recv_window_ms: 5000
  hedge_mode: false  # Hedge mode (dual-side position) - default: false (one-way mode)

# ============================================================================
# Risk Management
# ============================================================================
risk:
  max_leverage: 50  # Maximum leverage limit
  use_isolated_margin: true  # Use isolated margin (required for 20x-50x leverage)
  max_position_notional_usd: 1000.0  # Maximum position notional (USD)
  maker_commission_pct: 0.02  # Maker commission rate (percentage, e.g., 0.02 for 0.02%)
  taker_commission_pct: 0.04  # Taker commission rate (percentage, e.g., 0.04 for 0.04%)

# ============================================================================
# WebSocket Configuration
# ============================================================================
websocket:
  enabled: true
  reconnect_delay_ms: 5000
  ping_interval_ms: 30000

# ============================================================================
# Order Execution (for CONNECTION module)
# ============================================================================
exec:
  tif: "post_only"  # Time in force: "gtc" | "ioc" | "post_only"
  default_leverage: 20  # Default leverage (fallback if not set per symbol)
